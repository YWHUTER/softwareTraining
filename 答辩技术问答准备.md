# 校园新闻发布系统 - 答辩技术问答准备

> 本文档整理了项目答辩时老师可能会问到的技术问题及参考答案

---

## 一、项目整体架构相关

### Q1: 为什么选择前后端分离架构？

**答案要点**：
- **解耦性强**：前后端独立开发、独立部署，互不影响
- **并行开发**：前后端团队可以同时开发，提高效率
- **复用性好**：后端API可以同时服务于Web端、移动端、小程序等
- **技术栈自由**：前后端可以分别选择最适合的技术
- **易于维护**：问题定位清晰，便于调试和扩展

### Q2: 项目的分层架构是怎样的？每层的职责是什么？

**答案要点**：

```
Controller层 → Service层 → Mapper层 → 数据库
     ↓              ↓           ↓
 接收请求      业务逻辑     数据访问
 参数校验      事务管理     SQL操作
 返回响应      组合调用     ORM映射
```

- **Controller层**：接收HTTP请求，参数校验，调用Service，返回统一响应格式
- **Service层**：核心业务逻辑处理，事务管理，调用多个Mapper
- **Mapper层**：数据库访问，SQL操作，使用MyBatis-Plus简化CRUD
- **Entity层**：数据库表对应的Java实体类
- **DTO层**：数据传输对象，用于接收请求参数

---

## 二、后端技术相关

### Q3: JWT认证的工作原理是什么？为什么选择JWT而不是Session？

**答案要点**：

**JWT工作流程**：
1. 用户登录成功后，服务端生成JWT Token（包含用户信息 + 签名）
2. Token返回给前端，存储在localStorage
3. 后续请求在Header中携带`Authorization: Bearer <token>`
4. 服务端验证Token签名和有效期，解析用户信息

**JWT vs Session 对比**：
| 特性 | JWT | Session |
|------|-----|---------|
| 存储位置 | 客户端 | 服务端 |
| 扩展性 | 无状态，易于水平扩展 | 需要Session共享方案 |
| 跨域支持 | 天然支持 | 需要额外配置 |
| 服务端压力 | 无需存储 | 需要维护Session |

**项目中JWT的关键代码位置**：`JwtUtil.java`、`JwtAuthenticationFilter.java`

### Q4: Spring Security的安全配置做了哪些工作？

**答案要点**：

```java
// SecurityConfig.java 主要配置
1. 禁用CSRF（因为使用JWT，无需CSRF保护）
2. 配置白名单接口（登录、注册、Swagger等不需要认证）
3. 添加JWT过滤器到过滤链
4. 配置CORS跨域
5. 密码加密使用BCryptPasswordEncoder
```

**安全措施汇总**：
- 密码：BCrypt加密存储（单向Hash + 盐值）
- 认证：JWT Token无状态认证
- 授权：基于角色的访问控制（RBAC）
- SQL注入：MyBatis-Plus参数化查询
- XSS：前端内容转义

### Q5: MyBatis-Plus相比传统MyBatis有什么优势？

**答案要点**：
- **无需XML**：内置CRUD方法，简单操作无需写SQL
- **条件构造器**：链式API构建复杂查询条件
- **分页插件**：内置分页功能，自动处理分页逻辑
- **代码生成**：可以根据数据库表自动生成Entity、Mapper、Service
- **逻辑删除**：注解配置即可实现软删除

**项目示例**：
```java
// 使用QueryWrapper构建查询条件
QueryWrapper<Article> wrapper = new QueryWrapper<>();
wrapper.eq("board_type", boardType)
       .eq("is_approved", true)
       .orderByDesc("is_pinned", "create_time");
```

### Q6: Redis在项目中是如何使用的？

**答案要点**：

**使用场景**：文章浏览量统计

**设计思路**：
1. 每次浏览不直接写数据库（避免频繁IO）
2. 浏览量先累加到Redis
3. 每累计10次或定时任务将Redis数据同步到MySQL
4. 读取时优先从Redis获取最新浏览量

**优势**：
- 减少数据库写入压力
- 提高接口响应速度
- 支持高并发场景

### Q7: 全局异常处理是如何实现的？

**答案要点**：

使用 `@RestControllerAdvice` + `@ExceptionHandler` 实现：

```java
@RestControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(BusinessException.class)
    public Result<?> handleBusinessException(BusinessException e) {
        return Result.error(e.getMessage());
    }
    
    @ExceptionHandler(Exception.class)
    public Result<?> handleException(Exception e) {
        log.error("系统异常", e);
        return Result.error("系统繁忙，请稍后重试");
    }
}
```

**好处**：
- 统一异常处理逻辑
- 返回格式一致
- 避免暴露敏感信息
- 便于日志记录

---

## 三、前端技术相关

### Q8: Vue 3的Composition API相比Options API有什么优势？

**答案要点**：

**Options API问题**：
- 相关逻辑分散在data、methods、computed等不同选项中
- 大型组件难以维护
- 代码复用需要mixins，容易命名冲突

**Composition API优势**：
- 相关逻辑可以组织在一起
- 更好的TypeScript支持
- 更灵活的代码复用（组合函数）
- 更小的打包体积（Tree-shaking友好）

**项目示例**：
```javascript
// 使用setup + ref/reactive
const articles = ref([])
const loading = ref(false)

const fetchArticles = async () => {
  loading.value = true
  const res = await getArticleList(params)
  articles.value = res.data.records
  loading.value = false
}
```

### Q9: Pinia状态管理的作用是什么？与Vuex有什么区别？

**答案要点**：

**Pinia的作用**：
- 管理全局共享状态（如用户登录信息）
- 跨组件数据共享
- 数据持久化

**Pinia vs Vuex**：
| 特性 | Pinia | Vuex |
|------|-------|------|
| Mutation | 无需mutation，直接修改state | 必须通过mutation |
| TypeScript | 原生支持 | 需要额外配置 |
| 模块化 | 自然模块化 | 需要modules配置 |
| 体积 | 更小 | 较大 |

**项目中的使用**：
```javascript
// stores/user.js
export const useUserStore = defineStore('user', {
  state: () => ({
    token: localStorage.getItem('token'),
    userInfo: null
  }),
  actions: {
    setToken(token) {
      this.token = token
      localStorage.setItem('token', token)
    }
  }
})
```

### Q10: Axios请求封装做了哪些处理？

**答案要点**：

```javascript
// utils/request.js
1. 创建axios实例，配置baseURL和超时时间
2. 请求拦截器：自动添加Authorization头（JWT Token）
3. 响应拦截器：
   - 统一处理响应数据格式
   - 401状态码：Token过期，清除登录状态，跳转登录页
   - 其他错误：统一提示错误信息
```

**好处**：
- 统一管理请求配置
- 自动处理认证
- 统一错误处理
- 减少重复代码

### Q11: 前端路由守卫的作用是什么？

**答案要点**：

**作用**：在路由跳转前进行权限检查

```javascript
router.beforeEach((to, from, next) => {
  const token = localStorage.getItem('token')
  
  // 需要登录的页面
  if (to.meta.requiresAuth && !token) {
    next('/login')
    return
  }
  
  // 需要管理员权限的页面
  if (to.meta.requiresAdmin && !isAdmin()) {
    next('/')
    return
  }
  
  next()
})
```

---

## 四、数据库设计相关

### Q12: 数据库表之间的关系是怎样的？

**答案要点**：

```
用户(user) ←→ 角色(role)         [多对多，通过user_role关联]
用户(user) → 学院(college)       [多对一]
用户(user) → 文章(article)       [一对多，作者关系]
文章(article) → 评论(comment)    [一对多]
用户(user) ←→ 文章(article)      [多对多，通过article_like/favorite]
```

### Q13: 为什么使用user_role中间表而不是直接在user表加role字段？

**答案要点**：
- **灵活性**：支持一个用户拥有多个角色
- **扩展性**：角色表可以独立管理，添加新角色无需改user表
- **规范化**：符合数据库第三范式，减少数据冗余
- **权限扩展**：便于后续实现更复杂的权限体系

### Q14: 数据库做了哪些优化？

**答案要点**：
- **索引优化**：为常用查询字段添加索引（如username、board_type等）
- **外键约束**：保证数据完整性（如删除用户时关联数据处理）
- **软删除**：使用is_deleted字段而非真删除，便于数据恢复
- **时间字段**：create_time、update_time自动填充
- **合理字段类型**：根据数据特点选择合适类型，节省存储空间

---

## 五、项目特色与难点

### Q15: 项目中遇到的技术难点及解决方案？

**难点1：跨域问题**
- 问题：前后端分离，端口不同导致CORS错误
- 解决：后端配置CORS允许前端域名 + 前端Vite代理

**难点2：JWT刷新机制**
- 问题：Token过期需要重新登录，体验差
- 解决：设置较长有效期（7天），或实现Token刷新机制

**难点3：权限控制**
- 问题：不同角色访问不同功能
- 解决：后端接口级别注解控制 + 前端路由守卫 + 按钮级别v-if

**难点4：富文本内容安全**
- 问题：用户输入可能包含恶意脚本
- 解决：后端过滤敏感标签，前端使用v-html时做转义

### Q16: 如果让你改进这个项目，你会从哪些方面入手？

**答案要点**：

**功能层面**：
- 添加文件上传功能（对接OSS）
- 实现消息通知系统
- 添加文章标签和高级搜索
- 接入AI大模型实现智能推荐

**技术层面**：
- 添加单元测试和集成测试
- 实现CI/CD自动部署
- 添加接口限流和熔断
- 引入缓存策略优化性能

**架构层面**：
- 微服务拆分（用户服务、内容服务等）
- 引入消息队列处理异步任务
- 使用ELK做日志收集分析

---

## 六、项目演示相关

### Q17: 项目有哪些核心功能可以演示？

**演示流程建议**：

1. **用户注册登录**（2分钟）
   - 注册一个学生账号
   - 登录系统
   - 展示JWT Token存储

2. **文章发布流程**（3分钟）
   - 发布一篇全校新闻
   - 使用富文本编辑器添加格式
   - 展示板块分类

3. **互动功能**（2分钟）
   - 浏览文章详情
   - 点赞、收藏
   - 发表评论和回复

4. **管理后台**（3分钟）
   - 使用admin登录
   - 展示数据统计
   - 审核文章、置顶文章
   - 用户管理

5. **权限演示**（2分钟）
   - 学生无法发布官方新闻
   - 非管理员无法访问后台

### Q18: 项目的默认测试数据有哪些？

**答案要点**：

**默认角色**：
| ID | 角色名 | 说明 |
|----|--------|------|
| 1 | ADMIN | 管理员 |
| 2 | TEACHER | 教师 |
| 3 | STUDENT | 学生 |

**默认学院**：
- 计算机科学与技术学院 (CS)
- 软件工程学院 (SE)
- 人工智能学院 (AI)
- 电子信息工程学院 (EE)
- 经济管理学院 (EM)

**管理员账号**：admin / admin123

---

## 七、扩展问题

### Q19: 如果并发量很大，系统会有什么瓶颈？如何解决？

**答案要点**：

**可能的瓶颈**：
1. 数据库连接数不足
2. 单机处理能力有限
3. 热点数据访问压力大

**解决方案**：
1. **数据库层面**：读写分离、分库分表
2. **缓存层面**：Redis缓存热点数据，减少数据库访问
3. **应用层面**：多实例部署，负载均衡
4. **静态资源**：CDN加速
5. **接口限流**：使用Sentinel等限流框架

### Q20: 系统安全性方面做了哪些考虑？

**答案要点**：

| 安全威胁 | 防护措施 |
|---------|---------|
| 密码泄露 | BCrypt加密存储 |
| 身份冒充 | JWT Token认证 |
| 越权访问 | RBAC权限控制 |
| SQL注入 | 参数化查询 |
| XSS攻击 | 内容转义处理 |
| CSRF攻击 | JWT天然防护 |
| 暴力破解 | 登录次数限制（可扩展） |

---

## 附录：技术名词解释

| 名词 | 解释 |
|------|------|
| JWT | JSON Web Token，无状态认证标准 |
| RBAC | Role-Based Access Control，基于角色的访问控制 |
| ORM | Object-Relational Mapping，对象关系映射 |
| RESTful | 一种API设计风格，资源导向 |
| CORS | Cross-Origin Resource Sharing，跨域资源共享 |
| SPA | Single Page Application，单页应用 |
| CRUD | Create、Read、Update、Delete，增删改查 |

---

**答辩技巧提醒**：
1. 回答问题时先说结论，再展开说明
2. 结合项目实际代码举例
3. 不会的问题诚实回答，可以说"这个方向我了解不深，但我的思路是..."
4. 准备好演示环境，确保项目能正常运行
